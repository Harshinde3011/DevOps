master-slave connection

1 configration of jenkins-master

#apt-get update 
update all packages 

#hostname master
change hostname for your clearificatuon

#apt install openjdk-11-jdk -y 
install java on master node

#java --version
to check java is installed or not, or for java version

#curl -fsSL https://pkg.jenkins.io/debian-stable/jenkins.io.key | sudo tee \
  /usr/share/keyrings/jenkins-keyring.asc > /dev/null
Jenkins is not included in the Ubuntu 20.04 base repository, therefore, we need to add the Jenkins repository key with the command

#echo deb [signed-by=/usr/share/keyrings/jenkins-keyring.asc] \
  https://pkg.jenkins.io/debian-stable binary/ | sudo tee \
  /etc/apt/sources.list.d/jenkins.list > /dev/null
placed the repository in sources.list.d

#apt-get update

#apt install jenkins -y
install jenkins 

#systemctl status jenkins
check jenkins status

#systemctl start jenkins
to start the jenkins service 

now using public ip of masters ec2 connect to jenkins web page

cat var/lib/secrets/initialAdminPassword

copy the password and enter into jenkins web page

2 slave configration

#apt-get update
update all packages 

#hostname slave
change hostname for your clearificatuon

#apt install openjdk-11-jdk -y 
install java on slave node

#java --version
to check java is installed or not, or for java version 

3 master-slave connections step 

step 1:
create key on master node
#cd .ssh
change directory 

step 2:
on master
#ssh-keygen
to generate key 

step 3:
on master
cat id_rsa.pub
copy the public key

step 4:
on slave
paste the public key of master on slaves authorized_keys

step 5:
on slave
#systemctl reload sshd 

step 6:
on master 
#ssh root@<private of slave-node>

step 7:
choose yes 

step 8:
on master
visudo 
set jenkins ALL(ALL:ALL) ALL

step 9:
using public of master connect to jenkins web

step 10:
for password 
cat /var/lib/jenkins/secrets/initialAdministration

step 11:
new node 
host = private ip of slave
private key = private key of master 

 
 
